<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="MobileOptimized" content="width">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="no-cache">
    <meta http-equiv="Expires" content="-1">
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta id="screenOri" name="screen-orientation" content="landscape" />
    <meta name="viewport">
    <title>Q.mobi测试-SpriteSheet</title>
    <script type="text/javascript" src="src/display/Base.js"></script>
    <script type="text/javascript" src="src/display/DisplayObject.js"></script>
    <script type="text/javascript" src="src/display/DisplayObjectContainer.js"></script>
    <script type="text/javascript" src="src/display/Stage.js"></script>
    <script type="text/javascript" src="src/display/CanvasContext.js"></script>
    <script type="text/javascript" src="src/display/Bitmap.js"></script>
    <script type="text/javascript" src="src/display/Text.js"></script>
    <script type="text/javascript" src="src/utils/EventDispatcher.js"></script>
    <script type="text/javascript" src="src/display/Matrix2D.js"></script>
    <script type="text/javascript" src="src/display/ImageLoader.js"></script>
    <script type="text/javascript" src="src/utils/DomUtil.js"></script>
    <script type="text/javascript" src="src/utils/Ticker.js"></script>
    <script type="text/javascript" src="src/utils/EventManager.js"></script>
    <script type="text/javascript" src="src/display/UIDUtil.js"></script>
    <script type="text/javascript" src="src/display/Rectangle.js"></script>
    <script type="text/javascript" src="src/utils/Map.js"></script>
    <script type="text/javascript" src="src/ext/BitmapCache.js"></script>
    <script type="text/javascript" src="src/ext/BitmapFactory.js"></script>
    <script type="text/javascript" src="src/ext/SpriteSheet.js"></script>
</head>
<body>
<script>
    //动画测试
    var container, stage, context, events,spriteSheet,bitmap;
    var width = 800;
    var height = 480;
    var frames = 0;
    window.onload =  function(){
        container = DomUtil.query("#container");
        var canvas = DomUtil.createDOM("canvas", {width:width, height:height, style:{position:"absolute",backgroundColor:"#fff"}});
        container.appendChild(canvas);
        context = new Quark.CanvasContext({canvas:canvas});
        stage = new Quark.Stage({width:width, height:height, context:context, update:tick});

        var offset = DomUtil.getElementOffset(canvas);
        stage.updatePosition(offset);
        Ticker.setFPS(20);
        Ticker.addListener(stage);
        showFPS();

        var loader = new Q.ImageLoader();
        loader.addEventListener("loaded", function(e){
            var progress = Math.round(e.target.getLoadedSize()/e.target.getTotalSize()*100);
            console.log("当前进度为:"+progress);
        });
        loader.addEventListener("complete", function(e){
            console.log("加载完成");
            Q.BitmapFactory.putImages(e.images);
            console.log(Q.BitmapFactory.getImage("button"));

            spriteSheet = new Q.SpriteSheet("hua",{repeat:0});
            var animStr = "5,1,1,0,0,1,55,69|1,1,0.56,0,0,0.56,41,64|2,1,0.56,0,0,0.56,63,63|7,1,1,0,0.18,1.13,29,45|6,1,-0.65,0.35,0.35,0.65,41,55|8,1,1,0,-0.04,1.09,56,26|6,1,0.95,0.3,-0.3,0.95,69,41|6,1,-0.71,-0.2,-0.2,0.71,69,50|9,1,0.56,0,0,0.56,39,65|11,1,0.56,0,0,0.56,72,66|10,1,0.56,0,0,0.56,35,72|3,1,0.6,0,0,0.6,53,7|4,1,1,0,0,0.89,66,21|3,1,0.6,0,0,0.6,12,25|4,1,1,0,0,0.89,25,38:5,1,1.01,0,0,0.95,55,69|1,1,0.57,0,0,0.53,41,65|2,1,0.58,0,0,0.53,63,64|7,1,0.99,0,0.14,1.15,31,44|6,1,-0.63,0.4,0.33,0.65,41,55|8,1,1,0,-0.01,1.09,55,26|6,1,0.95,0.34,-0.28,0.96,68,41|6,1,-0.73,-0.17,-0.19,0.72,69,50|9,1,0.56,0,0,0.57,39,64|11,1,0.58,-0.02,0.02,0.57,72,66|10,1,0.57,0.01,-0.01,0.57,35,72|3,1,0.59,0,0,0.61,52,6|4,1,1,0,0,0.89,65,20|3,1,0.58,0,0,0.61,14,24|4,1,1,0,0,0.89,27,37:5,1,1.02,0,0,0.9,55,70|1,1,0.57,0.01,-0.01,0.51,41,65|2,1,0.6,0.01,0,0.51,63,64|7,1,0.97,0,0.1,1.17,32,44|6,1,-0.61,0.44,0.32,0.65,42,54|8,1,1,0,0.01,1.09,54,26|6,1,0.95,0.38,-0.26,0.96,68,41|6,1,-0.74,-0.13,-0.17,0.72,68,50|9,1,0.56,0,0,0.58,38,64|11,1,0.61,-0.03,0.03,0.59,72,66|10,1,0.59,0.03,-0.03,0.59,35,71|3,1,0.58,0,0,0.62,52,5|4,1,1,0,0,0.89,65,19|3,1,0.57,0,0,0.62,15,23|4,1,1,0,0,0.89,28,37:5,1,1.03,0,0,0.86,55,70|1,1,0.58,0.01,-0.02,0.49,41,66|2,1,0.62,0.01,-0.01,0.49,63,65|7,1,0.96,0,0.05,1.2,34,43|6,1,-0.58,0.49,0.31,0.66,42,53|8,1,1,0,0.03,1.1,53,26|6,1,0.94,0.43,-0.24,0.96,67,40|6,1,-0.75,-0.1,-0.16,0.72,68,50|9,1,0.56,0,0,0.6,38,64|11,1,0.64,-0.05,0.05,0.6,72,65|10,1,0.61,0.04,-0.04,0.6,35,71|3,1,0.59,0,0,0.62,51,5|4,1,1,0,0,0.89,64,19|3,1,0.58,0,0,0.61,16,22|4,1,1,0,0,0.89,29,36:5,1,1.04,0,0,0.81,55,70|1,1,0.59,0.02,-0.02,0.46,41,66|2,1,0.64,0.01,-0.01,0.46,63,65|7,1,0.95,0,0.01,1.22,35,42|6,1,-0.59,0.46,0.29,0.66,43,53|8,1,1,0,0.05,1.11,52,25|6,1,0.95,0.41,-0.22,0.97,66,40|6,1,-0.75,-0.1,-0.14,0.73,67,50|9,1,0.57,0,0,0.61,38,63|11,1,0.67,-0.07,0.07,0.62,71,65|10,1,0.62,0.06,-0.06,0.62,35,70|3,1,0.59,0,0,0.61,50,5|4,1,1,0,0,0.89,63,18|3,1,0.58,0,0,0.61,17,21|4,1,1,0,0,0.89,30,35:5,1,1.05,0,0,0.76,55,71|1,1,0.6,0.02,-0.02,0.44,41,67|2,1,0.67,0.02,-0.01,0.44,64,66|7,1,0.94,0,-0.03,1.24,37,41|6,1,-0.6,0.44,0.28,0.66,44,53|8,1,1,0,0.07,1.12,51,25|6,1,0.97,0.39,-0.2,0.98,66,40|6,1,-0.75,-0.11,-0.13,0.73,67,50|9,1,0.57,0,0,0.62,38,63|11,1,0.69,-0.09,0.08,0.63,71,65|10,1,0.64,0.08,-0.07,0.63,35,70|3,1,0.6,0,0,0.61,49,4|4,1,1,0,0,0.89,62,18|3,1,0.59,0,0,0.6,18,20|4,1,1,0,0,0.89,31,34:5,1,1.06,0,0,0.79,55,71|1,1,0.61,0,-0.01,0.47,41,66|2,1,0.66,0.03,-0.02,0.47,64,66|7,1,0.92,0,-0.09,1.25,38,41|6,1,-0.61,0.41,0.27,0.66,45,53|8,1,1,0,0.1,1.12,50,24|6,1,0.98,0.36,-0.18,0.99,65,40|6,1,-0.75,-0.12,-0.11,0.74,66,49|9,1,0.57,0,0,0.64,38,62|11,1,0.72,-0.12,0.1,0.64,71,64|10,1,0.66,0.1,-0.09,0.64,35,69|3,1,0.6,0,0,0.6,48,4|4,1,1,0,0,0.89,61,18|3,1,0.6,0,0,0.6,18,19|4,1,1,0,0,0.89,32,33:5,1,1.07,0,0,0.82,55,70|1,1,0.62,-0.02,0,0.51,40,66|2,1,0.65,0.05,-0.03,0.49,64,65|7,1,0.94,0.04,-0.12,1.23,39,41|6,1,-0.67,0.31,0.23,0.68,46,53|8,1,1,0,0.13,1.12,48,25|6,1,1,0.28,-0.15,0.98,64,40|6,1,-0.76,-0.18,-0.09,0.73,66,50|9,1,0.58,0,0,0.61,38,63|11,1,0.7,-0.09,0.08,0.63,71,65|10,1,0.64,0.07,-0.06,0.64,35,70|3,1,0.6,0,0,0.6,47,4|4,1,1,0,0,0.89,60,18|3,1,0.6,0,0,0.59,19,19|4,1,1,0,0,0.89,33,34:5,1,1.07,0,0,0.86,56,70|1,1,0.63,-0.04,0.02,0.54,40,66|2,1,0.65,0.07,-0.04,0.51,64,65|7,1,0.94,0.09,-0.17,1.2,40,41|6,1,-0.7,0.21,0.19,0.69,47,53|8,1,1,0,0.17,1.11,47,25|6,1,1.02,0.2,-0.12,0.97,63,41|6,1,-0.76,-0.23,-0.06,0.73,65,50|9,1,0.58,0,0,0.59,38,64|11,1,0.68,-0.07,0.06,0.61,72,65|10,1,0.63,0.04,-0.04,0.63,35,70|3,1,0.6,0,0,0.59,46,4|4,1,1,0,0,0.89,59,19|3,1,0.6,0,0,0.59,20,20|4,1,1,0,0,0.89,34,35:5,1,1.08,0,0,0.89,56,70|1,1,0.64,-0.07,0.03,0.57,40,66|2,1,0.64,0.08,-0.05,0.53,64,65|7,1,0.95,0.13,-0.21,1.17,41,42|6,1,-0.73,0.11,0.16,0.71,48,54|8,1,1,0,0.2,1.1,45,26|6,1,1.03,0.12,-0.09,0.96,62,41|6,1,-0.76,-0.29,-0.04,0.72,64,50|9,1,0.59,0,0,0.56,38,65|11,1,0.66,-0.05,0.05,0.59,72,66|10,1,0.62,0.01,-0.01,0.62,34,71|3,1,0.6,0,0,0.59,45,5|4,1,1,0,0,0.89,58,20|3,1,0.6,0,0,0.59,21,21|4,1,1,0,0,0.89,34,36:5,1,1.09,0,0,0.92,56,70|1,1,0.65,-0.09,0.05,0.6,40,66|2,1,0.63,0.1,-0.06,0.56,64,64|7,1,0.96,0.18,-0.24,1.14,42,42|6,1,-0.73,0.08,0.12,0.72,48,54|8,1,1,0,0.23,1.07,44,27|6,1,1.04,0.13,-0.06,0.94,61,42|6,1,-0.77,-0.28,-0.02,0.71,63,51|9,1,0.59,0,0,0.54,38,65|11,1,0.64,-0.03,0.03,0.57,73,67|10,1,0.61,-0.01,0.01,0.6,34,72|3,1,0.6,0,0,0.6,43,6|4,1,1,0,0,0.89,57,20|3,1,0.6,0,0,0.59,22,22|4,1,1,0,0,0.89,35,37:5,1,1.1,0,0,0.95,56,70|1,1,0.66,-0.12,0.08,0.63,40,66|2,1,0.63,0.12,-0.07,0.58,65,64|7,1,0.96,0.22,-0.28,1.11,43,42|6,1,-0.74,0.06,0.08,0.73,49,55|8,1,1,0,0.27,1.05,42,28|6,1,1.04,0.14,-0.03,0.92,60,42|6,1,-0.77,-0.26,0,0.69,62,51|9,1,0.6,0,0,0.51,38,66|11,1,0.62,-0.02,0.01,0.55,73,67|10,1,0.59,-0.03,0.04,0.59,34,72|3,1,0.6,0,0,0.6,42,7|4,1,1,0,0,0.89,56,21|3,1,0.6,0,0,0.6,23,24|4,1,1,0,0,0.89,36,38:5,1,1.09,0,0,0.92,56,70|1,1,0.65,-0.1,0.06,0.6,40,66|2,1,0.63,0.1,-0.06,0.56,64,64|7,1,0.96,0.27,-0.32,1.08,44,42|6,1,-0.74,0.04,0.04,0.74,50,55|8,1,1,0,0.3,1.03,41,29|6,1,1.05,0.15,-0.01,0.9,59,43|6,1,-0.78,-0.25,0.02,0.68,62,52|9,1,0.6,0,0,0.49,37,67|11,1,0.6,0,0,0.54,74,68|10,1,0.58,-0.06,0.06,0.58,34,73|3,1,0.6,0,0,0.6,41,8|4,1,1,0,0,0.89,55,21|3,1,0.6,0,0,0.6,23,25|4,1,1,0,0,0.89,37,39:5,1,1.08,0,0,0.9,56,70|1,1,0.65,-0.08,0.04,0.58,40,66|2,1,0.64,0.09,-0.05,0.54,64,65|7,1,0.96,0.22,-0.28,1.11,43,42|6,1,-0.73,0.13,0.08,0.73,49,54|8,1,1,0,0.27,1.04,42,28|6,1,1.04,0.2,-0.02,0.91,60,43|6,1,-0.78,-0.2,0,0.68,62,52|9,1,0.6,0,0,0.51,38,66|11,1,0.62,-0.02,0.01,0.55,73,67|10,1,0.59,-0.03,0.04,0.59,34,72|3,1,0.6,0,0,0.6,42,7|4,1,1,0,0,0.89,56,21|3,1,0.6,0,0,0.6,23,24|4,1,1,0,0,0.89,36,38:5,1,1.08,0,0,0.87,56,70|1,1,0.64,-0.05,0.02,0.55,40,66|2,1,0.65,0.07,-0.04,0.52,64,65|7,1,0.96,0.18,-0.24,1.14,42,42|6,1,-0.71,0.22,0.12,0.72,49,54|8,1,1,0,0.25,1.05,43,28|6,1,1.03,0.26,-0.05,0.92,60,42|6,1,-0.78,-0.15,-0.01,0.69,63,51|9,1,0.59,0,0,0.54,38,65|11,1,0.64,-0.03,0.03,0.57,73,66|10,1,0.61,-0.01,0.01,0.6,34,72|3,1,0.6,0,0,0.59,44,6|4,1,1,0,0,0.89,57,20|3,1,0.6,0,0,0.59,22,24|4,1,1,0,0,0.89,35,37:5,1,1.07,0,0,0.84,55,70|1,1,0.63,-0.03,0.01,0.52,40,66|2,1,0.65,0.06,-0.04,0.5,64,65|7,1,0.95,0.13,-0.21,1.17,41,42|6,1,-0.68,0.31,0.16,0.71,48,54|8,1,1,0,0.23,1.06,44,27|6,1,1.02,0.32,-0.07,0.93,61,41|6,1,-0.77,-0.1,-0.03,0.7,63,51|9,1,0.59,0,0,0.56,38,65|11,1,0.66,-0.05,0.05,0.59,72,66|10,1,0.62,0.01,-0.01,0.62,35,71|3,1,0.6,0,0,0.59,45,6|4,1,1,0,0,0.89,58,19|3,1,0.6,0,0,0.59,21,23|4,1,1,0,0,0.89,34,36:5,1,1.06,0,0,0.81,55,70|1,1,0.62,-0.01,0,0.5,40,66|2,1,0.66,0.05,-0.03,0.48,64,65|7,1,0.94,0.09,-0.17,1.2,40,41|6,1,-0.66,0.34,0.19,0.69,47,53|8,1,1,0,0.19,1.09,46,26|6,1,1.01,0.33,-0.1,0.95,62,41|6,1,-0.77,-0.11,-0.05,0.71,64,50|9,1,0.58,0,0,0.59,38,64|11,1,0.68,-0.07,0.06,0.61,72,65|10,1,0.63,0.04,-0.04,0.63,35,70|3,1,0.6,0,0,0.6,46,5|4,1,1,0,0,0.89,59,19|3,1,0.6,0,0,0.6,20,22|4,1,1,0,0,0.89,34,35:5,1,1.06,0,0,0.79,55,71|1,1,0.61,0.01,-0.01,0.47,41,67|2,1,0.66,0.03,-0.02,0.46,64,66|7,1,0.94,0.04,-0.12,1.23,39,41|6,1,-0.64,0.38,0.23,0.68,46,53|8,1,1,0,0.15,1.11,48,25|6,1,0.99,0.35,-0.14,0.97,64,40|6,1,-0.76,-0.12,-0.08,0.73,65,50|9,1,0.58,0,0,0.61,38,63|11,1,0.7,-0.09,0.08,0.63,71,65|10,1,0.64,0.07,-0.06,0.64,35,70|3,1,0.6,0,0,0.6,47,4|4,1,1,0,0,0.89,60,18|3,1,0.6,0,0,0.6,19,20|4,1,1,0,0,0.89,33,34:5,1,1.05,0,0,0.76,55,71|1,1,0.6,0.02,-0.02,0.44,41,66|2,1,0.67,0.02,-0.01,0.44,64,66|7,1,0.92,0,-0.09,1.25,38,41|6,1,-0.61,0.41,0.27,0.66,45,53|8,1,1,0,0.11,1.12,49,24|6,1,0.98,0.36,-0.18,0.99,65,40|6,1,-0.75,-0.12,-0.11,0.74,66,49|9,1,0.57,0,0,0.64,38,62|11,1,0.72,-0.12,0.1,0.64,71,64|10,1,0.66,0.1,-0.09,0.64,35,69|3,1,0.6,0,0,0.6,48,3|4,1,1,0,0,0.89,61,17|3,1,0.6,0,0,0.6,18,19|4,1,1,0,0,0.89,32,33:5,1,1.04,0,0,0.8,55,70|1,1,0.6,0.02,-0.02,0.46,41,66|2,1,0.65,0.01,-0.01,0.46,63,66|7,1,0.94,0,-0.03,1.24,37,42|6,1,-0.64,0.36,0.28,0.66,44,53|8,1,1,0,0.09,1.12,50,25|6,1,1,0.28,-0.16,0.98,65,40|6,1,-0.75,-0.2,-0.12,0.73,67,50|9,1,0.57,0,0,0.62,38,63|11,1,0.69,-0.09,0.08,0.63,71,65|10,1,0.64,0.08,-0.07,0.63,35,69|3,1,0.6,0,0,0.6,49,4|4,1,1,0,0,0.89,62,18|3,1,0.6,0,0,0.6,17,19|4,1,1,0,0,0.89,31,34:5,1,1.03,0,0,0.84,55,70|1,1,0.59,0.02,-0.02,0.48,41,66|2,1,0.63,0.01,-0.01,0.48,63,65|7,1,0.95,0,0.01,1.22,35,42|6,1,-0.67,0.31,0.29,0.66,44,54|8,1,1,0,0.07,1.11,51,25|6,1,1.02,0.2,-0.15,0.97,66,41|6,1,-0.73,-0.28,-0.13,0.72,67,50|9,1,0.57,0,0,0.61,38,63|11,1,0.67,-0.07,0.07,0.62,71,65|10,1,0.62,0.06,-0.06,0.62,35,70|3,1,0.6,0,0,0.59,49,4|4,1,1,0,0,0.89,63,18|3,1,0.6,0,0,0.6,16,20|4,1,1,0,0,0.89,30,35:5,1,1.02,0,0,0.88,55,70|1,1,0.58,0.01,-0.01,0.5,41,65|2,1,0.61,0.01,-0.01,0.5,63,65|7,1,0.96,0,0.05,1.2,34,43|6,1,-0.69,0.25,0.31,0.66,43,54|8,1,1,0,0.06,1.11,52,25|6,1,1.02,0.12,-0.14,0.96,67,41|6,1,-0.71,-0.36,-0.15,0.71,67,51|9,1,0.56,0,0,0.6,38,64|11,1,0.64,-0.05,0.05,0.6,72,65|10,1,0.61,0.04,-0.04,0.6,35,70|3,1,0.6,0,0,0.59,50,5|4,1,1,0,0,0.89,64,19|3,1,0.6,0,0,0.6,15,21|4,1,1,0,0,0.89,29,36:5,1,1.02,0,0,0.92,55,70|1,1,0.57,0.01,-0.01,0.52,41,65|2,1,0.59,0,0,0.52,63,64|7,1,0.97,0,0.1,1.17,32,44|6,1,-0.68,0.29,0.32,0.65,42,55|8,1,1,0,0.03,1.1,53,25|6,1,1,0.18,-0.19,0.96,67,41|6,1,-0.72,-0.31,-0.16,0.71,68,51|9,1,0.56,0,0,0.58,38,64|11,1,0.61,-0.03,0.03,0.59,72,66|10,1,0.59,0.03,-0.03,0.59,35,71|3,1,0.6,0,0,0.6,51,5|4,1,1,0,0,0.89,65,20|3,1,0.6,0,0,0.6,14,22|4,1,1,0,0,0.89,28,37:5,1,1.01,0,0,0.96,55,69|1,1,0.56,0,0,0.54,41,65|2,1,0.57,0,0,0.54,63,64|7,1,0.99,0,0.14,1.15,31,44|6,1,-0.67,0.32,0.33,0.65,41,55|8,1,1,0,0,1.09,54,26|6,1,0.98,0.24,-0.24,0.96,68,41|6,1,-0.72,-0.25,-0.18,0.71,68,51|9,1,0.56,0,0,0.57,39,64|11,1,0.58,-0.02,0.02,0.57,72,66|10,1,0.57,0.01,-0.01,0.57,35,71|3,1,0.6,0,0,0.6,52,6|4,1,1,0,0,0.89,65,20|3,1,0.6,0,0,0.6,13,23|4,1,1,0,0,0.89,27,37:5,1,1,0,0,1,55,69|1,1,0.56,0,0,0.56,41,64|2,1,0.56,0,0,0.56,63,63|7,1,1,0,0.18,1.13,29,45|6,1,-0.65,0.35,0.35,0.65,41,55|8,1,1,0,-0.04,1.09,56,26|6,1,0.95,0.3,-0.3,0.95,69,41|6,1,-0.71,-0.2,-0.2,0.71,69,50|9,1,0.56,0,0,0.56,39,65|11,1,0.56,0,0,0.56,72,66|10,1,0.56,0,0,0.56,35,72|3,1,0.6,0,0,0.6,53,7|4,1,1,0,0,0.89,66,21|3,1,0.6,0,0,0.6,12,25|4,1,1,0,0,0.89,25,38";
            spriteSheet.setData(animStr);
        });

        var asstes = [
            {id:"button", size:8, src:"img/button.png"},
            {id:"hua",size:21, src:"img/hua.png"},
            {id:"winLose", size:1289, src:"img/winLose.png"}
        ];
        Q.BitmapFactory.imgMap = new Q.Map();
        Q.BitmapFactory.imgMap.put("hua",[
            ["1",112,0,13,11,0,0],
            ["2",112,11,11,9,0,0],
            ["9",0,59,67,38,0,0],
            ["10",98,54,21,27,0,0],
            ["11",67,67,13,28,0,0],
            ["3",0,0,76,59,0,0],
            ["4",76,0,36,27,7.05,9.5],
            ["5",101,81,24,12,11.35,5.8],
            ["6",80,81,21,17,-2.5,-1.9],
            ["7",98,27,24,27,-2.8,-3.3],
            ["8",76,27,22,40,-2.6,-5]]);
        loader.load(asstes);

        bitmap = new Q.DisplayObject({id:"bitmap_body"});
        stage.addChild(bitmap);
    }

    function tick(){
        frames++;
        if(spriteSheet){
            var drawable = spriteSheet.getNextFrame();
            drawable.matrix.identity();
            drawable.matrix.regPoint(drawable.regX,drawable.regY);
            bitmap._cache = drawable._cache;
            bitmap.width = drawable._cache.width;
            bitmap.height = drawable._cache.height;
            bitmap.matrix = drawable.matrix;
            bitmap.matrix.translate(150,150);
        }

    }

    function showFPS()
    {
        setInterval(function()
        {
            DomUtil.query("#fps").innerHTML = "FPS:" + frames;
            frames = 0;
        }, 1000);
    }
</script>
    <div id="container" style="position:absolute;top:50px;left:80px;">
    </div>
<div id="fps" style="position:absolute;top:0;right:0;color:#fff;"></div>
</body>
</html>